# pickup day (packing + pickup)
# move day (leaving the city)
# delivery day (day delivers to storage/day to long term?)


# Milestone 1
# from agent
# to employee
# Actions:
# ===========
# 1. agent asks employee's delivery address and pickup address, pickup date, asks employee if they need box, agent asks employee if they need help packing, agent 

# Milestone 2
# Actions
# ============
# from agent
# to vendor
# 1. send employee name, phone number, email address
# 2. send pickup address and delivery address, pickup date
# Actions
# ============
# from vendor
# to agent
# 1. wait for survey link
# ============
# from agent
# to employee
# 1. send survey link
# ============
# from ?
# to agent
# 1. done survey

# Milestone 3
# Actions
# ============
# from vendor
# to agent
# 1. send a quote
# ============
# from agent
# to employee
# 1. send the quote
# ============
# from employee
# to agent
# 1. wait for response
# if approve
# if not approve, either reject or with questions, human step in

# Milestone 4
# Actions
# from agent
# to vendor
# 1. approve the quote and tell them to start service
# =============
# from vendor
# to agent
# 1. wait for paper works to arrive
# =============
# from agent
# to employee
# 1. send paper works
# =============
# from employee
# to agent
# 1. signed paper works and done

# TODO

# Questions
# who determines whether they need storage? depends on whether we have a final address
# need acknowledgement from employee

# is it employee determines if they need storage? 
# is it depenpds on situation? when the shipment arrives and whether employee has a short term rental?

# what kind of notification do we get when employee is done with survey? (send through gullie)
# what kind of notification do we get when employee is done with paperworks? (send through gullie)


# is it possible to ask multiple vendors for quotes? if yes, at what step it comes in? 
# is the same survey being used by all vendors? 

# for now: just one vendor

# move date is different with service date? move date is Jan 5th but shipment pick up happens at Jan 3rd? 

=============


# setups evals
# a mock mock-xxx-company.gullie.agent email
# a mock vendor email account
# a mock employee email account

# tests cases
# fake emails
# fake personal info

# milestone 1
# milestone 2
# milsetone 3
# milestone 4


# tests/evals

# layers in tests
# state transitions -> unit tests

email in -> 3 state transitions happening(1->2->3) -> email out

units tests(implementation): 
testing 1->2 
2-3

left most spectrum: dump everything into LLM, give all tools, no orchestration on inividual agent level
# shipping: 
# orchestratin within shipping agent to facilitate the workflow
# max flexibility


right most spectrum: having everything hardcoded, if, else logic


e2e/integration tests
expected email out given email in
if email out matches expected
{
    email_in: {},
    email_out: {},
}

context:
employer: "cluely"
employee: "jolie"
agent: "gullie",
vendor: "cend",



email: {
    "from": "cluely",
    "to": "gullie",
    "title": "move initiation",
    "content": "Hey can u help us move 3 employees from sf to ny, budget 10k each, here are their details
        first name: jolie
        last name: ni
        phone number: xxx
        email: xxxx
    ",
}

email: {
    "from": "gullie",
    "to": "jolie",
    "title": "reaching out for your move",
    "content": "hey reaching out to you for your move initiated by cluely, can I get the following details from you
    pickup address, destination address, need box for moving and whether need help packing? 
    "
}

email: {
    "from": "jolie",
    "to": "gullie"
    "title": "re: reaching out for your move",
    "content": "hey here are infos you are asking for"
}

email: {
    "from": "gullie",
    "to": "cend",
    "title": "requesting quote for move",
    "content": "hey can i get a quote for this move, here are the details"
}

email: {
    "from": "cend",
    "to": "gullie",
    "title": "re: requesting quote for move",
    "content": "here is the price xxxxx"
}




questions:
1. employer email to initiate move or employee? (could be a button/endpoint)
2. step 5 vs step 6? 
3. step 7 vs step 8? (1 email could generate 2 emails, one back to employee, one back to vendor)


hi,
Thanks for reaching out. Here are the info.
1. pickup address: 300 3rd street, san francisco2. pickup date: Jan 6th, 20263. delivery address:Â 140 Schermerhorn St, Brooklyn, NY 112014. boxes: no5. need help: yes6. yes opt-in for insurance.
Best,
jolie



# test 1 
# provide all info and no questions (tested)

# test 2
# provide all info with questions (todo)

# test 3
# provide info with missing, (pikup context from the input, need to feed the email chain into context? )

# agent: follow up email asking for info


TODO: 
1. how can I have the context of the input email? 
2. how can i have the context on emails before? (as a summary?)